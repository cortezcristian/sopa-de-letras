(function(){"use strict";var a=function(){var a="abcdefghijklmnoprstuvwy",b=["horizontal","horizontalBack","vertical","verticalUp","diagonal","diagonalUp","diagonalBack","diagonalUpBack"],c={horizontal:function(a,b,c){return{x:a+c,y:b}},horizontalBack:function(a,b,c){return{x:a-c,y:b}},vertical:function(a,b,c){return{x:a,y:b+c}},verticalUp:function(a,b,c){return{x:a,y:b-c}},diagonal:function(a,b,c){return{x:a+c,y:b+c}},diagonalBack:function(a,b,c){return{x:a-c,y:b+c}},diagonalUp:function(a,b,c){return{x:a+c,y:b-c}},diagonalUpBack:function(a,b,c){return{x:a-c,y:b-c}}},d={horizontal:function(a,b,c,d,e){return d>=a+e},horizontalBack:function(a,b,c,d,e){return a+1>=e},vertical:function(a,b,c,d,e){return c>=b+e},verticalUp:function(a,b,c,d,e){return b+1>=e},diagonal:function(a,b,c,d,e){return d>=a+e&&c>=b+e},diagonalBack:function(a,b,c,d,e){return a+1>=e&&c>=b+e},diagonalUp:function(a,b,c,d,e){return d>=a+e&&b+1>=e},diagonalUpBack:function(a,b,c,d,e){return a+1>=e&&b+1>=e}},e={horizontal:function(a,b){return{x:0,y:b+1}},horizontalBack:function(a,b,c){return{x:c-1,y:b}},vertical:function(a,b){return{x:0,y:b+100}},verticalUp:function(a,b,c){return{x:0,y:c-1}},diagonal:function(a,b){return{x:0,y:b+1}},diagonalBack:function(a,b,c){return{x:c-1,y:a>=c-1?b+1:b}},diagonalUp:function(a,b,c){return{x:0,y:c-1>b?c-1:b+1}},diagonalUpBack:function(a,b,c){return{x:c-1,y:a>=c-1?b+1:b}}},f=function(a,b){var c,d,e,f=[];for(c=0;c<b.height;c++)for(f.push([]),d=0;d<b.width;d++)f[c].push("");for(c=0,e=a.length;e>c;c++)if(!g(f,b,a[c]))return null;return f},g=function(a,b,d){var e=h(a,b,d);if(0===e.length)return!1;var f=e[Math.floor(Math.random()*e.length)];return k(a,d,f.x,f.y,c[f.orientation]),!0},h=function(a,b,f){for(var g=[],h=b.height,k=b.width,l=f.length,m=0,n=0,o=b.orientations.length;o>n;n++)for(var p=b.orientations[n],q=d[p],r=c[p],s=e[p],t=0,u=0;h>u;)if(q(t,u,h,k,l)){var v=i(f,a,t,u,r);(v>=m||!b.preferOverlap&&v>-1)&&(m=v,g.push({x:t,y:u,orientation:p,overlap:v})),t++,t>=k&&(t=0,u++)}else{var w=s(t,u,l);t=w.x,u=w.y}return b.preferOverlap?j(g,m):g},i=function(a,b,c,d,e){for(var f=0,g=0,h=a.length;h>g;g++){var i=e(c,d,g),j=b[i.y][i.x];if(j===a[g])f++;else if(""!==j)return-1}return f},j=function(a,b){for(var c=[],d=0,e=a.length;e>d;d++)a[d].overlap>=b&&c.push(a[d]);return c},k=function(a,b,c,d,e){for(var f=0,g=b.length;g>f;f++){var h=e(c,d,f);a[h.y][h.x]=b[f]}};return{validOrientations:b,orientations:c,newPuzzle:function(a,c){var d,e,g=0,h=c||{};d=a.slice(0).sort(function(a,b){return a.length<b.length?1:0});for(var i={height:h.height||d[0].length,width:h.width||d[0].length,orientations:h.orientations||b,fillBlanks:void 0!==h.fillBlanks?h.fillBlanks:!0,maxAttempts:h.maxAttempts||3,preferOverlap:void 0!==h.preferOverlap?h.preferOverlap:!0};!e;){for(;!e&&g++<i.maxAttempts;)e=f(d,i);e||(i.height++,i.width++,g=0)}return i.fillBlanks&&this.fillBlanks(e,i),e},fillBlanks:function(b){for(var c=0,d=b.length;d>c;c++)for(var e=b[c],f=0,g=e.length;g>f;f++)if(!b[c][f]){var h=Math.floor(Math.random()*a.length);b[c][f]=a[h]}},solve:function(a,c){for(var d={height:a.length,width:a[0].length,orientations:b,preferOverlap:!0},e=[],f=[],g=0,i=c.length;i>g;g++){var j=c[g],k=h(a,d,j);k.length>0&&k[0].overlap===j.length?(k[0].word=j,e.push(k[0])):f.push(j)}return{found:e,notFound:f}},print:function(a){for(var b="",c=0,d=a.length;d>c;c++){for(var e=a[c],f=0,g=e.length;g>f;f++)b+=(""===e[f]?" ":e[f])+" ";b+="\n"}return console.log(b),b}}},b="undefined"!=typeof exports&&null!==exports?exports:window;b.wordfind=a()}).call(this),window.mobilecheck=function(){var a=!1;return function(b){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4)))&&(a=!0)}(navigator.userAgent||navigator.vendor||window.opera),a}(function(a,b,c){"use strict";var d=function(){var a,d,e,f=function(a,c){for(var d="",e=0,f=c.length;f>e;e++){var g=c[e];d+="<div>";for(var h=0,i=g.length;i>h;h++)d+='<button class="puzzleSquare" x="'+h+'" y="'+e+'">',d+=g[h]||"&nbsp;",d+="</button>";d+="</div>"}b(a).html(d)},g=function(a,c){for(var d="<ul>",e=0,f=c.length;f>e;e++){var g=c[e];d+='<li class="word '+g+'">'+g}d+="</ul>",b(a).html(d)},h=[],i="",j=function(){b(this).addClass("selected"),d=this,h.push(this),i=b(this).text()},k=function(){if(d){var a=h[h.length-1];if(a!=this){for(var c,f=0,g=h.length;g>f;f++)if(h[f]==this){c=f+1;break}for(;c<h.length;)b(h[h.length-1]).removeClass("selected"),h.splice(c,1),i=i.substr(0,i.length-1);var j=n(b(d).attr("x")-0,b(d).attr("y")-0,b(this).attr("x")-0,b(this).attr("y")-0);j&&(h=[d],i=b(d).text(),a!==d&&(b(a).removeClass("selected"),a=d),e=j);var k=n(b(a).attr("x")-0,b(a).attr("y")-0,b(this).attr("x")-0,b(this).attr("y")-0);k&&(e&&e!==k||(e=k,l(this)))}}},l=function(c){for(var d=0,e=a.length;e>d;d++)if(0===a[d].indexOf(i+b(c).text())){b(c).addClass("selected"),h.push(c),i+=b(c).text();break}},m=function(){for(var c=0,f=a.length;f>c;c++)a[c]===i&&(b(".selected").addClass("found"),a.splice(c,1),b("."+i).addClass("wordFound")),0===a.length&&b(".puzzleSquare").addClass("complete");b(".selected").removeClass("selected"),d=null,h=[],i="",e=null},n=function(a,b,d,e,f){f=f||1;for(var g in c.orientations){var h=c.orientations[g],i=h(a,b,f);if(i.x===d&&i.y===e)return g}return null};return{create:function(e,h,i,l){a=e.slice(0).sort();var n=c.newPuzzle(e,l);return f(h,n),g(i,a),b(".puzzleSquare").on("MobileTouch1",j),b(".puzzleSquare").on("MobileSuggestedOver",k),b(".puzzleSquare").on("MobileTouch2",m),b(".puzzleSquare").on("click",function(){if(b(".selection-starts").size()>0){b(this).addClass("selection-ends");var a={x:0,y:0,dx:0,dy:0,distance:0};a.x=b(this).attr("x")-b(d).attr("x"),a.y=b(this).attr("y")-b(d).attr("y");var c=!1,e=b(".selection-starts"),f=b(".selection-ends");if(d===this)c=!0;else if(0===a.x||0===a.y){if(console.log("Horizontal / Vertical"),a.distance=0!==a.x?a.x:a.y,0!==a.x)if(console.log("Horizontal"),a.x>0){console.log("Horizontal hacia Der");for(var g=b(e).attr("x");g<=b(f).attr("x");g++)b(".puzzleSquare[x="+g+"][y="+b(e).attr("y")+"]").trigger("MobileSuggestedOver");b(".puzzleSquare[x="+b(f).attr("x")+"][y="+b(f).attr("y")+"]").trigger("MobileTouch2")}else{console.log("Horizontal hacia Izq");for(var g=b(e).attr("x");g>=b(f).attr("x");g--)b(".puzzleSquare[x="+g+"][y="+b(e).attr("y")+"]").trigger("MobileSuggestedOver");b(".puzzleSquare[x="+b(f).attr("x")+"][y="+b(f).attr("y")+"]").trigger("MobileTouch2")}else if(console.log("Vertical"),a.y>0){console.log("Vertical hacia Abajo");for(var g=b(e).attr("y");g<=b(f).attr("y");g++)b(".puzzleSquare[x="+b(e).attr("x")+"][y="+g+"]").trigger("MobileSuggestedOver");b(".puzzleSquare[x="+b(f).attr("x")+"][y="+b(f).attr("y")+"]").trigger("MobileTouch2")}else{console.log("Vertical hacia Arriba");for(var g=b(e).attr("y");g>=b(f).attr("y");g--)b(".puzzleSquare[x="+b(e).attr("x")+"][y="+g+"]").trigger("MobileSuggestedOver");b(".puzzleSquare[x="+b(f).attr("x")+"][y="+b(f).attr("y")+"]").trigger("MobileTouch2")}b(".selection-starts, .selection-ends").removeClass("selection-starts selection-ends")}else if(Math.abs(a.x)===Math.abs(a.y)){if(a.distance=Math.abs(a.x),console.log("Diagonal"),a.y>0)if(console.log("Diagonal hacia abajo"),a.x>0){console.log("Diagonal hacia abajo a la Der");for(var h=parseInt(b(e).attr("x")),i=parseInt(b(e).attr("y")),g=0;g<=a.distance;g++)b(".puzzleSquare[x="+(h+g)+"][y="+(i+g)+"]").trigger("MobileSuggestedOver")}else{console.log("Diagonal hacia abajo a la Izq");for(var h=parseInt(b(e).attr("x")),i=parseInt(b(e).attr("y")),g=0;g<=a.distance;g++)b(".puzzleSquare[x="+(h-g)+"][y="+(i+g)+"]").trigger("MobileSuggestedOver")}else if(console.log("Diagonal hacia arriba"),a.x>0){console.log("Diagonal hacia arriba a la Der");for(var h=parseInt(b(e).attr("x")),i=parseInt(b(e).attr("y")),g=0;g<=a.distance;g++)b(".puzzleSquare[x="+(h+g)+"][y="+(i-g)+"]").trigger("MobileSuggestedOver")}else{console.log("Diagonal hacia arriba a la Izq");for(var h=parseInt(b(e).attr("x")),i=parseInt(b(e).attr("y")),g=0;g<=a.distance;g++)b(".puzzleSquare[x="+(h-g)+"][y="+(i-g)+"]").trigger("MobileSuggestedOver")}b(".selection-starts, .selection-ends").removeClass("selection-starts selection-ends"),b(this).trigger("MobileTouch2")}else console.log("None"),c=!0;c&&(b(".selection-starts, .selection-ends").removeClass("selection-starts selection-ends"),b(this).trigger("MobileTouch2"))}else b(this).addClass("selection-starts"),b(this).trigger("MobileTouch1")}),n},solve:function(a,d){for(var e=c.solve(a,d).found,f=0,g=e.length;g>f;f++){var h=e[f].word,i=e[f].orientation,j=e[f].x,k=e[f].y,l=c.orientations[i];if(!b("."+h).hasClass("wordFound")){for(var m=0,n=h.length;n>m;m++){var o=l(j,k,m);b('[x="'+o.x+'"][y="'+o.y+'"]').addClass("solved")}b("."+h).addClass("wordFound")}}}}};window.wordfindgame=d()}(document,jQuery,wordfind)),angular.module("sopaDeLetrasApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"./views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"./views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("sopaDeLetrasApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("sopaDeLetrasApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]);var wordsDic=["the","be","of","and","ant","to","in","he","have","it","that","for","they","bird","with","as","not","on","she","at","by","this","we","you","do","but","from","or","which","one","would","all","will","there","say","who","make","when","can","more","if","no","man","out","other","so","what","time","up","go","about","than","into","could","state","only","new","year","some","take","come","these","know","see","use","get","like","then","first","any","work","now","may","such","give","over","think","most","even","find","day","also","after","way","many","must","look","before","great","back","through","long","where","much","should","welcome","people","down","own","just","because","good","each","those","feel","seem","how","high","too","place","little","world","very","still","nation","hand","old","life","tell","write","become","here","show","house","both","between","need","mean","call","develop","under","last","right","move","thing","general","school","never","same","another","begin","while","number","part","turn","real","leave","might","want","point","form","off","child","few","small","since","against","ask","late","home","interest","large","person","end","open","public","follow","during","present","without","again","hold","govern","around","possible","head","consider","word","program","problem","however","lead","system","set","order","eye","plan","run","keep","face","fact","group","play","stand","increase","early","course","change","help","line"],getRandomWords=function(){for(var a=10,b=0,c=199,d=[],e=[];d.length<a;){var f=Math.round(Math.random()*(c-b)+b);-1==d.indexOf(f)&&(d.push(f),e.push(wordsDic[f]))}return e},words,options,gamePuzzle,wordfindelement;angular.module("sopaDeLetrasApp").directive("wordfinder",function(){return{restrict:"A",templateUrl:"./views/wordfinder.html",controller:["$rootScope",function(a){a.showwords=!1,a.solve=function(){wordfindgame.solve(gamePuzzle,words)},a.togglewords=function(){a.showwords=!a.showwords},a.start=function(){words=getRandomWords(),options={height:8,width:8},gamePuzzle=wordfindgame.create(words,wordfindelement.find(".puzzle"),wordfindelement.find(".words"),options)}}],link:function(a,b){wordfindelement=b,words=getRandomWords(),options={height:8,width:8},gamePuzzle=wordfindgame.create(words,b.find(".puzzle"),b.find(".words"),options)}}});